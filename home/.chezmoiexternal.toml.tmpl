[".config/nvim"]
    type = "git-repo"
    url = "https://github.com/zenlian/nvim.git"
# zsh plugins
[".config/zsh/plugins/fast-syntax-highlighting"]
    type = "archive"
    url = "https://github.com/zdharma-continuum/fast-syntax-highlighting/archive/master.tar.gz"
    exact = true
    stripComponents = 1
    refreshPeriod = "168h"
[".config/zsh/plugins/fzf-tab"]
    type = "archive"
    url = "https://github.com/Aloxaf/fzf-tab/archive/master.tar.gz"
    exact = true
    stripComponents = 1
    refreshPeriod = "168h"
[".config/zsh/plugins/powerlevel10k"]
    type = "archive"
    url = "https://github.com/romkatv/powerlevel10k/archive/master.tar.gz"
    # exact = true
    stripComponents = 1
    refreshPeriod = "168h"
[".config/zsh/plugins/zsh-autosuggestions"]
    type = "archive"
    url = "https://github.com/zsh-users/zsh-autosuggestions/archive/master.tar.gz"
    exact = true
    stripComponents = 1
    refreshPeriod = "168h"
[".config/zsh/plugins/zsh-completions"]
    type = "archive"
    url = "https://github.com/zsh-users/zsh-completions/archive/master.tar.gz"
    exact = true
    stripComponents = 1
    refreshPeriod = "168h"
[".config/zsh/plugins/zsh-history-substring-search"]
    type = "archive"
    url = "https://github.com/zsh-users/zsh-history-substring-search/archive/master.tar.gz"
    exact = true
    stripComponents = 1
    refreshPeriod = "168h"
[".config/zsh/plugins/zsh-vi-mode"]
    type = "archive"
    url = "https://github.com/jeffreytse/zsh-vi-mode/archive/master.tar.gz"
    exact = true
    stripComponents = 1
    refreshPeriod = "168h"
[".config/zsh/plugins/zsh-defer"]
    type = "archive"
    url = "https://github.com/romkatv/zsh-defer/archive/master.tar.gz"
    exact = true
    stripComponents = 1
    refreshPeriod = "168h"

{{- if .rootless }}
# binaries
{{$chezmoiVersion := (trimPrefix "v" (gitHubLatestRelease "twpayne/chezmoi").TagName)}}
[".local/bin/chezmoi"]
    type = "file"
    executable = true
    url = "https://github.com/twpayne/chezmoi/releases/download/v{{ $chezmoiVersion }}/chezmoi_{{ $chezmoiVersion }}_{{ .chezmoi.os }}_{{ .chezmoi.arch }}.tar.gz"
    filter = { command = "tar", args = ["--extract", "--file", "/dev/stdin", "--gzip", "--to-stdout", "chezmoi"] }
[".local/bin/nvim"]
    type = "file"
    executable = true
    url = "https://github.com/neovim/neovim/releases/download/stable/nvim.appimage"
{{$zoxideVersion := (trimPrefix "v" (gitHubLatestRelease "ajeetdsouza/zoxide").TagName)}}
[".local/bin/zoxide"]
    type = "file"
    executable = true
    url = "https://github.com/ajeetdsouza/zoxide/releases/download/v{{$zoxideVersion}}/zoxide-{{$zoxideVersion}}-x86_64-unknown-linux-musl.tar.gz"
    filter = { command = "tar", args = ["--extract", "--file", "/dev/stdin", "--gzip", "--to-stdout", "zoxide"] }
{{- end }}
{{/* vim: set ft=toml: */}}
